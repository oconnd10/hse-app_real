<!DOCTYPE html>

<html>
<head>
  <meta http-equiv="Content-type" value="text/html; charset=UTF-8" />
  <meta charset="utf-8" />
  <meta name="format-detection" content="telephone=no" />
  <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
  <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
  <link rel="stylesheet" type="text/css" href="css/index.css" />
  <link rel="stylesheet" type="text/css" href="css/jquery.mobile-1.4.0.css" />  
  <script type="text/javascript" src="phonegap.js"></script>
  <script type="text/javascript" src="js/index.js"></script>
  <script type="text/javascript" src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
  <script type="text/javascript" src="js/jquery.mobile-1.4.0.js"></script>




</head>

<body>
  <div data-role="page" data-theme="a" id="Page1">

    <div data-role="header" data-theme="c">
      <a data-rel="back" data-role="button" class="ui-btn-left" data-transition="flip" data-icon="back"> Back </a>
      <a href="info.html" data-role="button" class="ui-btn-right" data-transition="flip" data-icon="info"> Info </a>
      <h2>Main Menu</h2>
    </div>

    <div data-role="content" data-theme="c" id="Page1_Content">

      <div class="ui-grid-b">

      </div>

      <script type="text/javascript">
      
  var grid= new Array();
  grid[0]= "<div class='ui-block-a'>";
  grid[1]= "<div class='ui-block-b'>";
  grid[2]= "<div class='ui-block-c'>";
  var j=0;
  var stop=false;

  //   if ($(".ui-grid-b > div").length > 0){
    $(document).on("pageinit", "#Page1", function(){
      j=0;

      var imp= "Json/contents.json";
      $.getJSON(imp, function(data) {
       var toc= '';
       $.each(data.tcontent, function(index, item) {
        if (j > 2) { j = 0; }
        toc += grid[j] + item.url + '<div class="grid">' + "<p class='gridtext'>"  + item.Name  + "</p>" +  "</div>" + "</a>" + "</div>"
        j++;
      });

        //$(toc).appendTo(".ui-grid-b");
        $(".ui-grid-b").empty().append(toc);
      });
    });
    //} 


    </script> 



  </div>

  <div data-role="footer" data-theme="c">
    <h2>(c) Darragh O'Connor </h2>
  </div>







</div>


</body>            

</html>