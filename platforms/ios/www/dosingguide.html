<!DOCTYPE html>

<html>
<head>
  <meta http-equiv="Content-type" value="text/html; charset=UTF-8" />
  <meta charset="utf-8" />
  <meta name="format-detection" content="telephone=no" />
  <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
  <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
  <link rel="stylesheet" type="text/css" href="css/index.css" />
  <link rel="stylesheet" type="text/css" href="css/jquery.mobile-1.4.0.css" />  
  <script type="text/javascript" src="phonegap.js"></script>
  <script type="text/javascript" src="js/index.js"></script>
  <script type="text/javascript" src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
  <script type="text/javascript" src="js/jquery.mobile-1.4.0.js"></script>




</head>

<body>
  
     <div data-role="page" data-theme="a" id="Page1">

    <div data-role="header" data-theme="a">
      <a data-rel="back" data-role="button" class="ui-btn-left" data-transition="flip" data-icon="back"> Back </a>
      <a href="info.html" data-role="button" class="ui-btn-right" data-transition="flip" data-icon="info"> Info </a>
      <h2>Aminoglycoside and Glycopeptide dosing and monitoring</h2>
    </div>

    <div data-role="content" data-theme="hse" id="Page1_Content">
      <div id="set" data-role="collapsible-set">

          </div>

      <script type="text/javascript">


      $(document).on("pageinit", "#Page1", function(){


        var imp= "Json/dosing.json";
        $.getJSON(imp, function(data) {

         var toc= '';
         $.each(data.Dosing, function(index, item) {
          toc += "<div data-role='collapsible' data-mini='true'> <h3>" + item.Name + "</h3> <p class='infotext'>"  + item.Details  + "</p> </div>"
        });

         $("#set").empty().append(toc).collapsibleset();
       });
      });



      </script> 


<p><a href="#two" data-role="button" rel="external" data-mini="true">Dosing Calculator</a></p>


  </div>

  <div data-role="footer" data-theme="a">
    <h2><p ="infotext">(c) Darragh O'Connor</p> </h2>
  </div>

</div>

  <div data-role="page" data-theme="a" id="two">

    <div data-role="header" data-theme="a">
      <a data-rel="back" data-role="button" class="ui-btn-left" data-transition="flip" data-icon="back"> Back </a>
      <a href="info.html" data-role="button" class="ui-btn-right" data-transition="flip" data-icon="info"> Info </a>
      <h2>Calculator</h2>
    </div>

    <div data-role="content" data-theme="a" id="Page2_Content">

      Enter your data here for the calculator:
      <form action="#" id="calc" method="get">
      <div data-role="fieldcontain" class="ui-hide-label">

          <label for="mini">Gender (M/F):</label>
           <input type="text" name="name" id="Gender" value="" data-mini="true"  placeholder="Geneder (M/F)"/>

           <label for="number">Weight: (kg)</label>
           <input type="number" name="number" id="Weight" value=""  data-mini="true" placeholder="Weight (kg)"/>

           <label for="number">Age:</label>
           <input type="number" name="number" id="Age" value="" data-mini="true" placeholder="Age (yrs)"/>

           <label for="number">Creatinine: (ųmol/L)</label>
           <input type="number" name="number" id="Creatinine" value="" data-mini="true" placeholder="Creatinine (ųmol/L)"/>

           <label for="number">Height: (m)</label>
           <input type="number" name="number" id="Height" value=""  data-mini="true" placeholder="Height (inches)"/>

           <label for="number">Is anuric/oliguric (output &lt;500mls/day)? (Y/N)</label>
           <input type="text" name="name" id="anuric" value=""  data-mini="true" placeholder="Is anuric/oliguric (output <500mls/day)? (Y/N)"/>

           

      </div>

      <div class="ui-body ui-body-b">
        <fieldset class="ui-grid-a">
        <div class="ui-block-a"><button type="submit"  data-theme="d" data-mini="true">Refresh</button></div>
        <div class="ui-block-b"><button type="button" id="CrCl" data-theme="a" data-mini="true">CrCl</button></div>
      </fieldset>
        <fieldset class="ui-grid-a">
        <div class="ui-block-a"><button type="button" id="ItoM" data-theme="d" data-mini="true">Inches to Meters</button></div>
        <div class="ui-block-b"><button type="button" id="BMI" data-theme="a" data-mini="true">BMI</button></div>
      </fieldset>
      <fieldset class="ui-grid-a">
        <div class="ui-block-a"><button type="button" id="Gentamicin"  data-theme="d" data-mini="true">Gentamicin Dose</button></div>
        <div class="ui-block-b"><button type="button" id="Vancomycin" data-theme="a" data-mini="true">Vancomycin Dose</button></div>
      </fieldset>

    </div>
      </form>


      <label for="ans">Answer:</label>
<div id="ans" class="anstext">
</div>

<div id="additional">
  </div>
     
      <script type="text/javascript">

//Gentamicin Function

      $( "#Gentamicin" ).click(function() {
        var S_Age = $("#Age").val();
        var Age = parseFloat(S_Age);
        var S_Weight = $("#Weight").val();
        var Weight = parseFloat(S_Weight);
        var S_Height = $("#Height").val();
        var Height = parseFloat(S_Height);
        var S_Creatinine= $("#Creatinine").val();
        var Creatinine = parseFloat(S_Creatinine);
        var S_Gender = $("#Gender").val();
        var anuric = $("#anuric").val();
        var Gender=0;
        if(S_Gender=="M" || S_Gender=="m"){
          Gender=1.23;
        }else if(S_Gender=="F" || S_Gender=="f"){
          Gender=1.04;
        }else{
          alert("Please enter only either M or F for the Gender Catagory");
        }


        var M_Height=Height/39.370;
        var BMI = Weight/(M_Height*M_Height);
        var IBW=0;
        var diff=0;

       if(BMI>30){
          if(Gender==1.23){
           if(Height>60){
            diff=Height-60;
            IBW=50+(2.3*diff);
           }else{IBW=50;}
          }else if(Geneder==1.04){
            if(Height>60){
              diff=Height-60;
              IBW=45.5+(2.3*diff);
            }else{IBW=50;}
          }else{
            alert("Gender isn't working");
          }
          Weight=IBW + (0.4*(Weight-IBW));
        }



        var CrCL= 0;
        CrCl=(((140-Age)*Weight*Gender)/Creatinine);
        CrCl=CrCl.toFixed(4);

        var Answer;

        if(anuric=="Y" || anuric=="y"){
          Answer="First dose of Gentamicin is between " (Weight*1) + "mg and " + (Weight*2) + "mg. Redose when level <1mg/L";

        }else if(anuric=="N" || anuric=="n"){
              if(CrCl>=30 && CrCl<=50){
                  Answer="Frist dose of Gentamicin is: " + (Weight*3) + "mg";
              }else if(CrCl>=10 && CrCl<=30){
                  Answer="First dose of Gentamicin is: " + (Weight*2) + "mg";
              }else if(CrCl<10){
                  Answer ="First dose of Gentamicin is between " (Weight*1) + "mg and " + (Weight*2) + "mg. Redose when level <1mg/L";                
              }else{
                  Answer="First dose of Gentamicin is: " + (Weight*5) + "mg";
              }
        }else{
          alert("Anuric Level was not clearly defined!");
        }

        var additional;

        additional="<p class='infotext'>1st level 16-18hours after first dose.</p> <br><a href='#Gent_Info' data-role='button' data-mini='true' data-rel='external'>Further Gentamicin dosing Information</a> ";


        $("#ans").empty().append(Answer);
        $("#additional").empty().append(additional).trigger('create');
        });

//Vancomycin Function

      $( "#Vancomycin" ).click(function() {
        var S_Age = $("#Age").val();
        var Age = parseFloat(S_Age);
        var S_Weight = $("#Weight").val();
        var Weight = parseFloat(S_Weight);
        var S_Height = $("#Height").val();
        var Height = parseFloat(S_Height);
        var S_Creatinine= $("#Creatinine").val();
        var Creatinine = parseFloat(S_Creatinine);
        var S_Gender = $("#Gender").val();
        var anuric = $("#anuric").val();
        var Gender=0;
        if(S_Gender=="M" || S_Gender=="m"){
          Gender=1.23;
        }else if(S_Gender=="F" || S_Gender=="f"){
          Gender=1.04;
        }else{
          alert("Please enter only either M or F for the Gender Catagory");
        }


        var M_Height=Height/39.370;
        var BMI = Weight/(M_Height*M_Height);
        var IBW=0;
        var diff=0;

       if(BMI>30){
          if(Gender==1.23){
           if(Height>60){
            diff=Height-60;
            IBW=50+(2.3*diff);
           }else{IBW=50;}
          }else if(Geneder==1.04){
            if(Height>60){
              diff=Height-60;
              IBW=45.5+(2.3*diff);
            }else{IBW=50;}
          }else{
            alert("Gender isn't working");
          }
          Weight=IBW + (0.4*(Weight-IBW));
        }



        var CrCL= 0;
        CrCl=(((140-Age)*Weight*Gender)/Creatinine);
        CrCl=CrCl.toFixed(4);

        var Answer;

        if(anuric=="Y" || anuric=="y"){
          Answer="Vancomycin dose is between " (Weight*15) + "mg every 72-96hours. Check 1st level before 2nd dose. Hold dose untill level available.<br> 1st level 16-18hours after first dose.";

        }else if(anuric=="N" || anuric=="n"){
              if(CrCl>=40 && CrCl<=60){
                  Answer="Vancomycin dose is: " + (Weight*15) + "mg od. Check 1st level before 3rd dose.<br> .";
              }else if(CrCl>=20 && CrCl<=40){
                  Answer="Vancomycin dose is: " + (Weight*15) + "mg every 36-48hours. Check 1st level before 2nd dose.<br>.";
              }else if(CrCl<20){
                  Answer ="Vancomycin dose is between " (Weight*15) + "mg every 72-96hours. Check 1st level before 2nd dose. Hold dose untill level available.<br>.";                
              }else{
                  Answer="First dose of Gentamicin is a loading dose of: " + (Weight*15) + "mg. <br>Otherwise if your patient is seriously ill(signs of sever sepsis) give a loading dose of <b> " + (Weight*25) + "-" + (Weight*30) + "mg </b>.<br><br> Then prescribe maintenance dose of " + (Weight*15) + "mg bi-daily. (Preferably at 10am, and 10pm to facilitate levels).<br><br> 1st level before 4th or 5th dose. (Level needs to be PRE-dose, or at least within one hour of giving dose)";
              }
        }else{
          alert("Anuric Level was not clearly defined!");
        }

        var additional;

        additional="</p> <br><a href='#Vanc_Info' data-role='button' data-mini='true'>Further Vancomycin dosing Information";


        $("#ans").empty().append(Answer);
        $("#additional").empty().append(additional).trigger('create');
        });


//Creatinine Clearance Function

      $( "#CrCl" ).click(function() {
        var S_Age = $("#Age").val();
        var Age = parseFloat(S_Age);
        var S_Weight = $("#Weight").val();
        var Weight = parseFloat(S_Weight);
        var S_Height = $("#Height").val();
        var Height = parseFloat(S_Height);
        var S_Creatinine= $("#Creatinine").val();
        var Creatinine = parseFloat(S_Creatinine);
        var S_Gender = $("#Gender").val();
        var Gender=0;
        if(S_Gender=="M" || S_Gender=="m"){
          Gender=1.23;
        }else if(S_Gender=="F" || S_Gender=="f"){
          Gender=1.04;
        }else{
          alert("Please enter only either M or F for the Gender Catagory");
        }


        var M_Height=Height/39.370;
        var BMI = Weight/(M_Height*M_Height);
        var IBW=0;
        var diff=0;

       if(BMI>30){
          if(Gender==1.23){
           if(Height>60){
            diff=Height-60;
            IBW=50+(2.3*diff);
           }else{IBW=50;}
          }else if(Geneder==1.04){
            if(Height>60){
              diff=Height-60;
              IBW=45.5+(2.3*diff);
            }else{IBW=50;}
          }else{
            alert("Gender isn't working");
          }
          Weight=IBW + (0.4*(Weight-IBW));
        }



        var Answer= 0;
        var temp=(((140-Age)*Weight*Gender)/Creatinine);
        temp = temp.toFixed(4);
        Answer="Creatinine Clearance:" + temp + "ml/min";

        $("#ans").empty().append(Answer);
        });

//Inches to Meters Function

      $("#ItoM").click(function(){
        var S_Height = $("#Height").val();
        var Height = parseFloat(S_Height);
        var M_Height=Height/39.370;
        M_Height = M_Height.toFixed(4);

        var Answer = Height + "inches = "  +  M_Height + " in Meters";

        $("#ans").empty().append(Answer);
      });

//BMI Calc Function

      $("#BMI").click(function(){
        var S_Weight = $("#Weight").val();
        var Weight = parseFloat(S_Weight);
        var S_Height = $("#Height").val();
        var Height = parseFloat(S_Height);

        var M_Height=Height/39.370;
        var BMI = Weight/(M_Height*M_Height);
        BMI = BMI.toFixed(4);

        var Answer = "The total BMI is: " + BMI; 

        $("#ans").empty().append(Answer);

      });

      </script> 



  </div>

  <div data-role="footer" data-theme="c">
    <h2>(c) Darragh O'Connor </h2>
  </div>

</div>

    <div data-role="page" data-theme="a" id="Gent_Info">

      <div data-role="header" data-theme="c">
        <a data-rel="back" data-role="button" class="ui-btn-left" data-transition="flip" data-icon="back"> Back </a>
        <a href="info.html" data-role="button" class="ui-btn-right" data-transition="flip" data-icon="info"> Info </a>
        <h2>Further Gentamicin Info</h2>
      </div>

      <div data-role="content" data-theme="c" id="Page3_Content">


         <div class="images"><img src="img/gentamicin.png"></img> </div>




          <script type="text/javascript">

           </script> 

      </div>

      <div data-role="footer" data-theme="c">
        <h2>(c) Darragh O'Connor </h2>
      </div>


    </div>

        <div data-role="page" data-theme="a" id="Vanc_Info">

      <div data-role="header" data-theme="c">
        <a data-rel="back" data-role="button" class="ui-btn-left" data-transition="flip" data-icon="back"> Back </a>
        <a href="info.html" data-role="button" class="ui-btn-right" data-transition="flip" data-icon="info"> Info </a>
        <h2> Further Vancomycin Info</h2>
      </div>

      <div data-role="content" data-theme="c" id="Page4_Content">
              <p>Note: Unless renal function is deteriorating or specifically advised <span style="color:red">DOESES SHOULD NOT BE HELD WHILST AWAITING LEVELS</span><br><br>Please seek advice from Pharmacy or Clincial Microbiology if in doubt.</p>

              <p>Has patient serious infection such as enocarditis, osteomyelitis, bloodstream infection, meninigitis or hospital acquired pneumonia caused by <i>S. aureus?</i><br>
                <br>
                <div data-role='collapsible' data-mini='true'> <h3> Yes</h3> <p> Target level is 15-20mg/L <br>Is level 15-20mg/L? <img src="img/yes_vancomycin.png"></img> </p> </div>
                <div data-role='collapsible' data-mini='true'> <h3> No</h3> <p>Target level is 10-15mg/L.<br>Is level 10-15mg/L?<img src="img/no_vancomycin.png"></img> </p> </div>

          <script type="text/javascript">


    </script> 

      </div>

      <div data-role="footer" data-theme="c">
        <h2>(c) Darragh O'Connor </h2>
      </div>


    </div>

</body>            

</html>